# 分类相关的GraphQL操作

# 查询所有分类（带权限过滤）
query GetCategories($userId: ID) {
  categories(filter: { user_created: { id: { _eq: $userId } } }) {
    id
    name
    description
    boutique_id {
      id
      name
      address
    }
    date_created
    date_updated
    user_created {
      id
      first_name
      last_name
      email
    }
  }
}

# 查询所有分类（不带权限过滤，用于管理员）
query GetAllCategories {
  categories {
    id
    name
    description
    boutique_id {
      id
      name
      address
    }
    date_created
    date_updated
    user_created {
      id
      first_name
      last_name
      email
    }
  }
}

# 根据ID查询分类
query GetCategoryById($id: ID!) {
  categories_by_id(id: $id) {
    id
    name
    description
    boutique_id {
      id
      name
      address
    }
    date_created
    date_updated
  }
}

# 创建分类
mutation CreateCategory($data: create_categories_input!) {
  create_categories_item(data: $data) {
    id
    name
    description
    boutique_id {
      id
      name
      address
    }
    date_created
    date_updated
  }
}

# 更新分类
mutation UpdateCategory($id: ID!, $data: update_categories_input!) {
  update_categories_item(id: $id, data: $data) {
    id
    name
    description
    boutique_id {
      id
      name
      address
    }
    date_created
    date_updated
  }
}

# 删除分类
mutation DeleteCategory($id: ID!) {
  delete_categories_item(id: $id) {
    id
  }
}
